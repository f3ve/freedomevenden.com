"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
const CoreMdWrapper = require("./CoreMdWrapper-d6481cae.cjs");
const vue$1 = require("vue");
const serverRenderer = require("vue/server-renderer");
const vue = require("@unhead/vue");
const title = "How to fix a Minimist Vulnerability in Your Express Application";
const description = "If your Express application uses Mocha to handle testing then you have probably been getting vulnerability warnings from GitHub. Here's how to fix it!";
const datePublished = "2020-03-27T00:00:00.000Z";
const dateUpdated = "2023-09-21T00:00:00.000Z";
const meta = [{ "name": "keywords", "content": "how to fix a minimist vulnerability in your express application,how to,minimist,vulnerability,express,expressjs,express application,how to fix,fix" }, { "name": "type", "content": "article" }, { "property": "og:title", "content": "How to fix a Minimist Vulnerability in Your Express Application" }, { "name": "twitter:title", "content": "How to fix a Minimist Vulnerability in Your Express Application" }, { "name": "description", "content": "If your Express application uses Mocha to handle testing then you have probably been getting vulnerability warnings from GitHub. Here's how to fix it!" }, { "property": "og:description", "content": "If your Express application uses Mocha to handle testing then you have probably been getting vulnerability warnings from GitHub. Here's how to fix it!" }, { "name": "twitter:description", "content": "If your Express application uses Mocha to handle testing then you have probably been getting vulnerability warnings from GitHub. Here's how to fix it!" }];
const _sfc_main = {
  __name: "how-to-fix-a-minimist-vulnerability-in-your-express-application",
  __ssrInlineRender: true,
  setup(__props, { expose: __expose }) {
    const frontmatter = { "title": "How to fix a Minimist Vulnerability in Your Express Application", "description": "If your Express application uses Mocha to handle testing then you have probably been getting vulnerability warnings from GitHub. Here's how to fix it!", "datePublished": "2020-03-27T00:00:00.000Z", "dateUpdated": "2023-09-21T00:00:00.000Z", "meta": [{ "name": "keywords", "content": "how to fix a minimist vulnerability in your express application,how to,minimist,vulnerability,express,expressjs,express application,how to fix,fix" }, { "name": "type", "content": "article" }, { "property": "og:title", "content": "How to fix a Minimist Vulnerability in Your Express Application" }, { "name": "twitter:title", "content": "How to fix a Minimist Vulnerability in Your Express Application" }, { "name": "description", "content": "If your Express application uses Mocha to handle testing then you have probably been getting vulnerability warnings from GitHub. Here's how to fix it!" }, { "property": "og:description", "content": "If your Express application uses Mocha to handle testing then you have probably been getting vulnerability warnings from GitHub. Here's how to fix it!" }, { "name": "twitter:description", "content": "If your Express application uses Mocha to handle testing then you have probably been getting vulnerability warnings from GitHub. Here's how to fix it!" }] };
    __expose({ frontmatter });
    const head = { "title": "How to fix a Minimist Vulnerability in Your Express Application", "meta": [{ "name": "keywords", "content": "how to fix a minimist vulnerability in your express application,how to,minimist,vulnerability,express,expressjs,express application,how to fix,fix" }, { "name": "type", "content": "article" }, { "property": "og:title", "content": "How to fix a Minimist Vulnerability in Your Express Application" }, { "name": "twitter:title", "content": "How to fix a Minimist Vulnerability in Your Express Application" }, { "name": "description", "content": "If your Express application uses Mocha to handle testing then you have probably been getting vulnerability warnings from GitHub. Here's how to fix it!" }, { "property": "og:description", "content": "If your Express application uses Mocha to handle testing then you have probably been getting vulnerability warnings from GitHub. Here's how to fix it!" }, { "name": "twitter:description", "content": "If your Express application uses Mocha to handle testing then you have probably been getting vulnerability warnings from GitHub. Here's how to fix it!" }] };
    vue.useHead(head);
    return (_ctx, _push, _parent, _attrs) => {
      const _component_CoreMdWrapper = CoreMdWrapper._sfc_main;
      _push(serverRenderer.ssrRenderComponent(_component_CoreMdWrapper, vue$1.mergeProps({ frontmatter }, _attrs), {
        default: vue$1.withCtx((_, _push2, _parent2, _scopeId) => {
          if (_push2) {
            _push2(`<div class="markdown-body"${_scopeId}><blockquote${_scopeId}><p${_scopeId}>I wrote this article back when I was first getting into web development and blogging</p></blockquote><p${_scopeId}>If your Express application uses Mocha to handle testing then you have probably been getting vulnerability warnings from GitHub. In versions of Minimist before 1.2.3 there is a prototype pollution vulnerability. This could allow attackers to manipulate attributes of a JavaScript object prototype causing your application to behave in ways you didn’t intend. Here’s how you fix it!</p><p${_scopeId}>First I’d like to state I didn’t figure this out on my own. I found the solution on <a href="https://github.com/mochajs/mocha/issues/4199" target="_blank" rel="noopener"${_scopeId}>this GitHub page</a> from a user called ejke. You might have to scroll a bit to find her comment.</p><p${_scopeId}>For me running “npm audit fix” resulted in the following message:</p><pre${_scopeId}><code class="hljs language-bash"${_scopeId}>npm audit fix
fixed 2 of 3 vulnerabilities <span class="hljs-keyword"${_scopeId}>in</span> 541 scanned packages 1 vulnerability required manual review and could not be updated
</code></pre><p${_scopeId}>Instead, you have to force update mocha by removing it from “package.json” in your application. I have it installed under “devDependencies”:</p><pre${_scopeId}><code class="hljs language-json"${_scopeId}><span class="hljs-punctuation"${_scopeId}>{</span>
  <span class="hljs-attr"${_scopeId}>&quot;devDependencies&quot;</span><span class="hljs-punctuation"${_scopeId}>:</span> <span class="hljs-punctuation"${_scopeId}>{</span>
    <span class="hljs-attr"${_scopeId}>&quot;chai&quot;</span><span class="hljs-punctuation"${_scopeId}>:</span> <span class="hljs-string"${_scopeId}>&quot;^4.2.0&quot;</span><span class="hljs-punctuation"${_scopeId}>,</span>
    <span class="hljs-attr"${_scopeId}>&quot;mocha&quot;</span><span class="hljs-punctuation"${_scopeId}>:</span> <span class="hljs-string"${_scopeId}>&quot;^7.1.0&quot;</span><span class="hljs-punctuation"${_scopeId}>,</span>
    <span class="hljs-attr"${_scopeId}>&quot;nodemon&quot;</span><span class="hljs-punctuation"${_scopeId}>:</span> <span class="hljs-string"${_scopeId}>&quot;^2.0.2&quot;</span><span class="hljs-punctuation"${_scopeId}>,</span>
    <span class="hljs-attr"${_scopeId}>&quot;supertest&quot;</span><span class="hljs-punctuation"${_scopeId}>:</span> <span class="hljs-string"${_scopeId}>&quot;^4.0.2&quot;</span>
  <span class="hljs-punctuation"${_scopeId}>}</span>
<span class="hljs-punctuation"${_scopeId}>}</span>
</code></pre><p${_scopeId}>After manually removing mocha go ahead and reinstall it.</p><pre${_scopeId}><code class="hljs language-bash"${_scopeId}>npm i mocha -D

<span class="hljs-built_in"${_scopeId}>rm</span> -rf node_modules/ package-lock.json
</code></pre><p${_scopeId}>After that:</p><pre${_scopeId}><code class="hljs language-bash"${_scopeId}>npm install
npm audit
</code></pre><p${_scopeId}>After that Mocha should be updated to v7.1.1</p><pre${_scopeId}><code class="hljs language-json"${_scopeId}><span class="hljs-punctuation"${_scopeId}>{</span>
  <span class="hljs-attr"${_scopeId}>&quot;devDependencies&quot;</span><span class="hljs-punctuation"${_scopeId}>:</span> <span class="hljs-punctuation"${_scopeId}>{</span>
    <span class="hljs-attr"${_scopeId}>&quot;chai&quot;</span><span class="hljs-punctuation"${_scopeId}>:</span> <span class="hljs-string"${_scopeId}>&quot;^4.2.0&quot;</span><span class="hljs-punctuation"${_scopeId}>,</span>
    <span class="hljs-attr"${_scopeId}>&quot;mocha&quot;</span><span class="hljs-punctuation"${_scopeId}>:</span> <span class="hljs-string"${_scopeId}>&quot;^7.1.1&quot;</span><span class="hljs-punctuation"${_scopeId}>,</span>
    <span class="hljs-attr"${_scopeId}>&quot;nodemon&quot;</span><span class="hljs-punctuation"${_scopeId}>:</span> <span class="hljs-string"${_scopeId}>&quot;^2.0.2&quot;</span><span class="hljs-punctuation"${_scopeId}>,</span>
    <span class="hljs-attr"${_scopeId}>&quot;supertest&quot;</span><span class="hljs-punctuation"${_scopeId}>:</span> <span class="hljs-string"${_scopeId}>&quot;^4.0.2&quot;</span>
  <span class="hljs-punctuation"${_scopeId}>}</span>
<span class="hljs-punctuation"${_scopeId}>}</span>
</code></pre><p${_scopeId}>This should fix the minimist vulnerability. Eventually, it probably won’t be necessary to fix it this way. But for now, it does the trick.</p></div>`);
          } else {
            return [
              vue$1.createVNode("div", { class: "markdown-body" }, [
                vue$1.createVNode("blockquote", null, [
                  vue$1.createVNode("p", null, "I wrote this article back when I was first getting into web development and blogging")
                ]),
                vue$1.createVNode("p", null, "If your Express application uses Mocha to handle testing then you have probably been getting vulnerability warnings from GitHub. In versions of Minimist before 1.2.3 there is a prototype pollution vulnerability. This could allow attackers to manipulate attributes of a JavaScript object prototype causing your application to behave in ways you didn’t intend. Here’s how you fix it!"),
                vue$1.createVNode("p", null, [
                  vue$1.createTextVNode("First I’d like to state I didn’t figure this out on my own. I found the solution on "),
                  vue$1.createVNode("a", {
                    href: "https://github.com/mochajs/mocha/issues/4199",
                    target: "_blank",
                    rel: "noopener"
                  }, "this GitHub page"),
                  vue$1.createTextVNode(" from a user called ejke. You might have to scroll a bit to find her comment.")
                ]),
                vue$1.createVNode("p", null, "For me running “npm audit fix” resulted in the following message:"),
                vue$1.createVNode("pre", null, [
                  vue$1.createVNode("code", { class: "hljs language-bash" }, [
                    vue$1.createTextVNode("npm audit fix\nfixed 2 of 3 vulnerabilities "),
                    vue$1.createVNode("span", { class: "hljs-keyword" }, "in"),
                    vue$1.createTextVNode(" 541 scanned packages 1 vulnerability required manual review and could not be updated\n")
                  ])
                ]),
                vue$1.createVNode("p", null, "Instead, you have to force update mocha by removing it from “package.json” in your application. I have it installed under “devDependencies”:"),
                vue$1.createVNode("pre", null, [
                  vue$1.createVNode("code", { class: "hljs language-json" }, [
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, "{"),
                    vue$1.createTextVNode("\n  "),
                    vue$1.createVNode("span", { class: "hljs-attr" }, '"devDependencies"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ":"),
                    vue$1.createTextVNode(),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, "{"),
                    vue$1.createTextVNode("\n    "),
                    vue$1.createVNode("span", { class: "hljs-attr" }, '"chai"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ":"),
                    vue$1.createTextVNode(),
                    vue$1.createVNode("span", { class: "hljs-string" }, '"^4.2.0"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ","),
                    vue$1.createTextVNode("\n    "),
                    vue$1.createVNode("span", { class: "hljs-attr" }, '"mocha"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ":"),
                    vue$1.createTextVNode(),
                    vue$1.createVNode("span", { class: "hljs-string" }, '"^7.1.0"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ","),
                    vue$1.createTextVNode("\n    "),
                    vue$1.createVNode("span", { class: "hljs-attr" }, '"nodemon"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ":"),
                    vue$1.createTextVNode(),
                    vue$1.createVNode("span", { class: "hljs-string" }, '"^2.0.2"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ","),
                    vue$1.createTextVNode("\n    "),
                    vue$1.createVNode("span", { class: "hljs-attr" }, '"supertest"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ":"),
                    vue$1.createTextVNode(),
                    vue$1.createVNode("span", { class: "hljs-string" }, '"^4.0.2"'),
                    vue$1.createTextVNode("\n  "),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, "}"),
                    vue$1.createTextVNode("\n"),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, "}"),
                    vue$1.createTextVNode("\n")
                  ])
                ]),
                vue$1.createVNode("p", null, "After manually removing mocha go ahead and reinstall it."),
                vue$1.createVNode("pre", null, [
                  vue$1.createVNode("code", { class: "hljs language-bash" }, [
                    vue$1.createTextVNode("npm i mocha -D\n\n"),
                    vue$1.createVNode("span", { class: "hljs-built_in" }, "rm"),
                    vue$1.createTextVNode(" -rf node_modules/ package-lock.json\n")
                  ])
                ]),
                vue$1.createVNode("p", null, "After that:"),
                vue$1.createVNode("pre", null, [
                  vue$1.createVNode("code", { class: "hljs language-bash" }, "npm install\nnpm audit\n")
                ]),
                vue$1.createVNode("p", null, "After that Mocha should be updated to v7.1.1"),
                vue$1.createVNode("pre", null, [
                  vue$1.createVNode("code", { class: "hljs language-json" }, [
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, "{"),
                    vue$1.createTextVNode("\n  "),
                    vue$1.createVNode("span", { class: "hljs-attr" }, '"devDependencies"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ":"),
                    vue$1.createTextVNode(),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, "{"),
                    vue$1.createTextVNode("\n    "),
                    vue$1.createVNode("span", { class: "hljs-attr" }, '"chai"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ":"),
                    vue$1.createTextVNode(),
                    vue$1.createVNode("span", { class: "hljs-string" }, '"^4.2.0"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ","),
                    vue$1.createTextVNode("\n    "),
                    vue$1.createVNode("span", { class: "hljs-attr" }, '"mocha"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ":"),
                    vue$1.createTextVNode(),
                    vue$1.createVNode("span", { class: "hljs-string" }, '"^7.1.1"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ","),
                    vue$1.createTextVNode("\n    "),
                    vue$1.createVNode("span", { class: "hljs-attr" }, '"nodemon"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ":"),
                    vue$1.createTextVNode(),
                    vue$1.createVNode("span", { class: "hljs-string" }, '"^2.0.2"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ","),
                    vue$1.createTextVNode("\n    "),
                    vue$1.createVNode("span", { class: "hljs-attr" }, '"supertest"'),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, ":"),
                    vue$1.createTextVNode(),
                    vue$1.createVNode("span", { class: "hljs-string" }, '"^4.0.2"'),
                    vue$1.createTextVNode("\n  "),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, "}"),
                    vue$1.createTextVNode("\n"),
                    vue$1.createVNode("span", { class: "hljs-punctuation" }, "}"),
                    vue$1.createTextVNode("\n")
                  ])
                ]),
                vue$1.createVNode("p", null, "This should fix the minimist vulnerability. Eventually, it probably won’t be necessary to fix it this way. But for now, it does the trick.")
              ])
            ];
          }
        }),
        _: 1
      }, _parent));
    };
  }
};
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = vue$1.useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("src/pages/blog/how-to-fix-a-minimist-vulnerability-in-your-express-application.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
exports.datePublished = datePublished;
exports.dateUpdated = dateUpdated;
exports.default = _sfc_main;
exports.description = description;
exports.meta = meta;
exports.title = title;
